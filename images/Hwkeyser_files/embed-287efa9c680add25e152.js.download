!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(){return webpackJsonp([46],{114:function(e,t,n){"use strict";var a=n(14),r=n.n(a);t.a=r.a.Router},1282:function(e,t,n){"use strict";var a=n(404),r=n.n(a),i=n(21),o=n.n(i),s=n(75),l=n(1283),c=n.n(l),u=n(1284),d=function(e){this._definitions={},this._instance=void 0,this._instanceId=e,this._name=void 0,this._defer=new s.a};d.create=function(e,t,n,a){var r;if(t){var i=t;r=new d(e);var s=c.a[t];if(!s){var l=o()(c.a),h=l[l.length-1];s=c.a[h],console.warn("you requested api version "+t+" but this version is not available. Returned api version "+h+" instead"),i=h}r.register(i,s,new u.a(n))}else r=new u.a.LegacyCore,r.initialize(n,a),console.warn("you are using a deprecated api, please update to the new one, read mode xxxx");return r},d.prototype={ready:function(){window.parent&&window.parent.postMessage({type:"api.ready",instanceId:this._instanceId,results:[this._instanceId]},"*")},clientReady:function(){return this._defer.promise},register:function(e,t,n){this._name=e,this._members=o()(t),this._membersMapping=t,this._instance=n,this.init()},getViewerAPI:function(){return this._instance},init:function(){window.addEventListener("message",function(e){if("api.initialize"!==e.data.type)return void this._defer.resolve();try{if(this._name!==e.data.name)throw"No API named '"+e.data.name+"'";var t=this._members,n=this._instance;if(void 0!==n.addGlobalListener){var a=function(){var t={type:"api.event",instanceId:this._instanceId,results:Array.prototype.slice.call(arguments)};e.source.postMessage(t,"*")}.bind(this);n.addGlobalListener(a)}e.source.postMessage({type:"api.initialize.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[null,this._instanceId,t]},"*")}catch(t){e.source.postMessage({type:"api.initialize.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[t]},"*")}}.bind(this)),window.addEventListener("message",function(e){if("api.request"===e.data.type)try{if(this._instanceId!==e.data.instanceId)throw"Invalid request : instance does not exists";var t=r()(this._instance),n=this._membersMapping[e.data.member];if("-"===n&&(n=e.data.member),!n||!t[n])throw"Invalid request : member function does not exists: "+n;if("function"!=typeof t[n])throw"Invalid request : member function does not exists: "+n;for(var a=t[n],i=e.data.arguments.slice(),o=i.length-1;o>=0&&void 0===i[o];o--)i.splice(o,1);a.length&&(i.length=a.length-1),i.push(function(){e.source.postMessage({type:"api.request.result",instanceId:this._instanceId,requestId:e.data.requestId,results:Array.prototype.slice.call(arguments)},"*")}.bind(this)),a.apply(this._instance,i)}catch(t){console.error(t),e.source.postMessage({type:"api.request.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[t.stack?t.stack:t]},"*")}}.bind(this))}},t.a=d},1283:function(e,t,n){var a=n(0).extend,r={start:"-",stop:"-",load:"-",gotoAnnotation:"-",getAnnotationList:"-",lookat:"-",setFov:"-",getCurrentTime:"-",play:"-",pause:"-",seekTo:"-",getAnimations:"-",setCurrentAnimationByUID:"-",setCycleMode:"-",setSpeed:"-",getSceneGraph:"-",getNodeMap:"-",getMatrix:"-",setMatrix:"-",hide:"-",show:"-",translate:"-",rotate:"-",getRootMatrixNode:"-",getCameraLookAt:"-",setCameraLookAt:"-",getScreenShot:"-",getMaterialList:"-",getTextureList:"-",addTexture:"-",updateTexture:"-",setTextureQuality:"-",setMaterial:"-",setPostProcessing:"-",getPostProcessing:"-"},i=a({},r,{getWorldToScreenCoordinates:"-"});e.exports={"1.0.0":r,"1.0.1":r,"1.0.2":r,"1.0.3":r,"1.1.0":i}},1284:function(e,t,n){"use strict";var a=n(5),r=n(0),i=(n.n(r),n(1285)),o=n(57),s=n(35),l=n(1286),c=n(1287),u=n(1288),d=n(111),h=n(440),f=a.a.osg,p=a.a.osgAnimation,m=function(e){this._partial=e,this._events={},this._replayEmitter=new l.a,this._partial.on("model-loaded",function(){this._emitEvents()}.bind(this)),this._sceneGraphVisitor=new i.a,this._nodeMap=void 0};m.prototype={addGlobalListener:function(e){this._replayEmitter.subscribe(e)},intersectPoint:function(e,t,n,a){var r=this._getFeatureModel("material"),i=r.findFirstMaterial(e._nodePath);this._replayEmitter.emit("click",{position3D:t,position2D:n,normal:a,instanceID:e._nodePath[e._nodePath.length-1].getInstanceID(),material:i?i.getJSON():null})},_getFeatureModel:function(e){var t=this._partial.scene.getFeatures()[e];if(t)return t.getModel()},_getViewerOSG:function(){return this._getViewer()._viewer},_getViewer:function(){return this._partial.scene},_emitEvents:function(){var e=["viewerready","annotationFocus","annotationBlur","click"];this._partial.scene.on("all",function(t,n){-1!==e.indexOf(t)&&this._replayEmitter.emit(t,n)}.bind(this)),this.emitEvents=function(){}},_computeSceneGraph:function(){var e=this._sceneGraphVisitor;e.isDirty()&&this._getViewer().getRootModel().accept(e)},_getRootNode:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRootNode()},_getRealNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRealNodeMap()},_getRepresentationNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRepresentationNodeMap()},_convertDataUriToImage:function(e,t,n){var a=this._getFeatureModel("material").getImageCollection();o.default.instance.getOrCreateImage(e).promise.then(function(r){var i=a.addNewImage({uid:t,url:e,width:r.getWidth(),height:r.getHeight(),name:e.slice(0,100)});n(null,i.getUID())}).catch(function(){n("failed to add texture")})},start:function(e){this._partial.start(),e(null)},stop:function(e){this._partial.stop(),e(null)},load:function(e){this._partial.load(),e(null)},gotoAnnotation:function(e,t){var n=this._getFeatureModel("hotspot").get("hotspots"),a=n.at(e);n.trigger("select",a),t(null,e)},getAnnotationList:function(e){var t=this._getFeatureModel("hotspot"),n=t.get("hotspots"),a=n.toJSON();a.forEach(function(e){delete e.refreshAction}),e(null,a)},lookat:function(e,t,n,a){this.setCameraLookAt(e,t,n,a)},setFov:function(e,t){this._getFeatureModel("camera").set("fov",e),t(null,e)},getCurrentTime:function(e){var t=this._getFeatureModel("animation"),n=t.getCurrentAnimation(),a=n.get("duration");e(null,t.get("progress")*a/100)},play:function(e){this._getFeatureModel("animation").set("playing",!0),e(null)},pause:function(e){var t=this._getFeatureModel("animation");if(!t)return void e("no animation feature");t.set("playing",!1),e(null)},seekTo:function(e,t){var n=this._getFeatureModel("animation"),a=n.getCurrentAnimation().get("duration"),r=100*e/a;n.trigger("seek",r),t(null)},getAnimations:function(e){var t=this._getFeatureModel("animation"),n=[];t.get("animations").forEach(function(e){var t=[];t.push(e.get("uid")),t.push(e.get("name")),t.push(e.get("duration")),n.push(t)}),e(null,n)},setCurrentAnimationByUID:function(e,t){this._getFeatureModel("animation").set("currentUID",e),t(null)},setCycleMode:function(e,t){var n=this._getFeatureModel("animation");1===n.get("animations").length&&"all"===e&&(e="one"),n.set("cycleMode",e),t(null)},setSpeed:function(e,t){if(e<0)return void t("speed must be at least 0",null);this._getFeatureModel("animation").set("speed",e),t(null,e)},getSceneGraph:function(e){e(null,this._getRootNode())},getNodeMap:function(e){e(null,this._getRepresentationNodeMap())},getNodeMask:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?t(null,a.getNodeMask()):t("node with id "+e.toString()+" not found")},getMatrix:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?t(null,{local:a.getMatrix(),world:a.getWorldMatrices()[0]}):t("node with id "+e.toString()+" not found")},setMatrix:function(e,t,n){var a=this._getRealNodeMap(),r=a[e];f.mat4.copy(r.getMatrix(),t),r.dirtyBound(),n(null),s.a.draw()},hide:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?(a.setNodeMask(0),t(null)):t("show: node id "+e+" not found"),s.a.draw()},show:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?(a.setNodeMask(-1),t(null)):t("show: node id "+e+" not found"),s.a.draw()},translate:function(){var e,t,n=arguments.length,a=arguments[n-1],r=arguments[0],i=arguments[1];4===n?e=arguments[2]:5===n&&(e=arguments[2],t=arguments[3]),e=e||0;var o=p[t]||p.easeOutQuad,l=this._getRealNodeMap();if(l[r].getTypeID()!==f.MatrixTransform.typeID)return void a("you can only translate MatrixTransform nodes");if(e>0){var u=f.vec3.create();f.mat4.getTranslation(u,l[r].getMatrix());var d=new c.b(u,i,e,o,function(e){l[r].removeUpdateCallback(d),a(null,e)});l[r].addUpdateCallback(d)}else f.mat4.setTranslation(l[r].getMatrix(),i),a(null,i);s.a.draw()},rotate:function(){var e=f.vec3.create(),t=f.vec3.create();return function(){var n,a,r=arguments.length,i=arguments[r-1],o=arguments[0],l=arguments[1];4===r?n=arguments[2]:5===r&&(n=arguments[2],a=arguments[3]),n=n||0;var u=p[a]||p.easeOutQuad,d=this._getRealNodeMap();if(d[o].getTypeID()!==f.MatrixTransform.typeID)return void i("you can only translate MatrixTransform nodes");var h=f.quat.create(),m=f.mat4.create();if(f.mat4.fromRotation(m,-l[0],f.vec3.set(t,l[1],l[2],l[3])),f.mat4.getRotation(h,m),n>0){var g=f.quat.create();f.mat4.getRotation(g,d[o].getMatrix());var v=new c.a(g,h,n,u,function(e){d[o].removeUpdateCallback(v),i(null,e)});d[o].addUpdateCallback(v)}else f.mat4.fromQuat(m,h),f.mat4.getTranslation(e,d[o].getMatrix()),f.mat4.setTranslation(m,e),f.mat4.copy(d[o].getMatrix(),m),i(null,l);s.a.draw()}}(),getRootMatrixNode:function(e){var t=this._getViewer().getRootModel();if(t||e("No scene loaded"),!this._nodeInTheMiddle){this._nodeInTheMiddle=new f.MatrixTransform,this._nodeInTheMiddle.setName("NITM");for(var n=t.getChildren(),a=0,r=n.length;a<r;a++)this._nodeInTheMiddle.addChild(n[a]);t.removeChildren(),t.addChild(this._nodeInTheMiddle)}e(null,this._nodeInTheMiddle.getInstanceID(),this._nodeInTheMiddle.getMatrix())},getCameraLookAt:function(e){var t=this._getViewerOSG().getManipulator(),n=[],a=[];t.getTarget(n),t.getEyePosition(a),e(null,{position:a,target:n})},setCameraLookAt:function(e,t,n,a){var r=this._getFeatureModel("camera"),i=this._getViewerOSG().getManipulator(),o=void 0===n?2:n;o<=0?i.setTargetAndEye(t,e):(r.setTargetAndEye(t,e),r.set("animationDuration",o)),a(null)},getScreenShot:function(){var e,t,n=arguments.length,a=arguments[n-1],r="image/jpeg";if(2===n)r=arguments[0];else if(3===n)e=Math.floor(arguments[0]),t=Math.floor(arguments[1]);else if(4===n)e=Math.floor(arguments[0]),t=Math.floor(arguments[1]),r=arguments[2];else if(1!==n)return void a("Wrong number of arguments, signature should be (width, height, [callback]), (width, height, mimetype, [callback]), (mimetype, [callback]) or ([callback]).");a(null,this._getViewer().getScreenShot(e,t).toDataURL(r))},getMaterialList:function(e){var t=this._getFeatureModel("material");e(null,Object(r.values)(t.getJSON()))},getTextureList:function(e){e(null,this._getFeatureModel("material").getImageCollection().toJSON())},addTexture:function(e,t){this._convertDataUriToImage(e,void 0,t)},updateTexture:function(e,t,n){this._convertDataUriToImage(e,t,function(e){if(e)return void n(e);var a=this._getFeatureModel("material").getMaterials();for(var r in a){var i=a[r],o=i.getChannels();for(var s in o){var l=o[s],c=l.getTextureModel();c&&c.getUID()===t&&l.trigger("updateChannel")}}n(null,t)}.bind(this))},setTextureQuality:function(e,t){var n=this._getFeatureModel("quality");n.get("promiseReady").then(function(a){var i={ld:0,sd:1,hd:2};if(a.high||(i={ld:0,hd:1}),a.mid||(i={hd:0}),e in i){var o=i[e];n.set("level",o),t(null,"texture quality set to "+o)}else{var s=Object(r.map)(i,function(e,t){return t}).join(", ");t(['Quality must be a string "ld", "sd" or "hd".'," Available qualities for this model are : ",s].join(""),null)}}.bind(this))},setMaterial:function(e,t){var n=this._getFeatureModel("material"),a=e.stateSetID,r=n.getMaterialByStateSetID(a);r.setMaterialJSON(e,n.getImageCollection()),r.trigger("apply"),t(null)},setPostProcessing:function(e,t){this._getFeatureModel("postProcess").set(e),t(null)},getPostProcessing:function(e){e(this._getFeatureModel("postProcess").toJSON())},getWorldToScreenCoordinates:function(e,t){var n=d.a.getScreenPositionFromWorldPoint(e);t({glCoord:n.slice(0,2),canvasCoord:h.a.glCoordToCanvas(n[0],n[1],n).slice(0,2)})}},m.LegacyCore=u.a,t.a=m},1285:function(e,t,n){"use strict";var a=n(5),r=a.a.osg,i=function(){r.NodeVisitor.apply(this,arguments),this.reset()};r.createPrototypeObject(i,r.objectInherit(r.NodeVisitor.prototype,{reset:function(){this._nodes=[],this._nodeMap={},this._nodeList={},this._dirty=!0},isDirty:function(){return this._dirty},getRootNode:function(){return this._nodes[0]},getRealNodeMap:function(){return this._nodeList},getRepresentationNodeMap:function(){return this._nodeMap},createNodeEntry:function(e){this._dirty=!1;var t=e.getInstanceID();this._nodeList[t]||(this._nodeList[t]=e);var n={name:e.getName(),instanceID:t,nodeMask:e.getNodeMask()};return this._nodeMap[t]||(this._nodeMap[t]=n),n},applyNode:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="Group",t.push(n),this._nodes=t},applyMatrixTransform:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="MatrixTransform",n.localMatrix=r.mat4.clone(e.getMatrix()),n.worldMatrix=e.getWorldMatrices()[0],t.push(n),this._nodes=t},applyGeometry:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.type=e.className(),t.push(n),this._nodes=t},apply:function(e){var t=e.getTypeID();t===r.Node.typeID?this.applyNode(e):t===r.MatrixTransform.typeID?this.applyMatrixTransform(e):e instanceof r.Geometry?this.applyGeometry(e):this.traverse(e)}})),t.a=i},1286:function(e,t,n){"use strict";function a(){this.handlers=[],this.events=[]}a.prototype={subscribe:function(e){this.events.forEach(function(t){e(t.name,t.args)});var t=this.handlers.push(e);return function(){this.handlers.split(t-1,1)}},emit:function(e,t){this.events.push({name:e,args:t}),this.handlers.forEach(function(n){n(e,t)})}},t.a=a},1287:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var a=n(35),r=n(5),i=r.a.osg,o=function(e,t,n,a,r){this._source=e,this._target=t,this._duration=n,this._started=-1,this._easing=a,this._finished=!1,this._callback=r};o.prototype={isFinished:function(){return this._finished},update:function(e,t){if(this._finished)return!0;a.a.draw();var n=t.getFrameStamp().getSimulationTime();this._started<0&&(this._started=n);var r=(n-this._started)/this._duration;return r>1&&(this._finished=!0,this._callback&&this._callback(this._result),r=1),this._easing&&(r=this._easing(r)),this.interpolate(r,e),!0}};var s=function(e,t,n,a,r){o.call(this,e,t,n,a,r),this._result=i.vec3.create()};s.prototype=i.objectInherit(o.prototype,{interpolate:function(e,t){i.vec3.lerp(this._result,this._source,this._target,e),i.mat4.setTranslation(t.getMatrix(),this._result)}});var l=function(e,t,n,a,r){o.call(this,e,t,n,a,r),this._result=i.quat.create(),this._translate=i.vec3.create(),this._finalResult=i.mat4.create()};l.prototype=i.objectInherit(o.prototype,{interpolate:function(e,t){i.quat.slerp(this._result,this._source,this._target,e),i.mat4.getTranslation(this._translate,t.getMatrix()),i.mat4.fromQuat(this._finalResult,this._result),i.mat4.setTranslation(this._finalResult,this._translate),i.mat4.copy(t.getMatrix(),this._finalResult)}})},1288:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=function(){return{_viewer:void 0,version:"0.2",initialize:function(e,t){this._viewer=e,this._uid=t;var n=this;window.addEventListener("message",function(e){if(e.data&&e.data.command){var t=e.data;"initialize"!==t.command&&Object.prototype.hasOwnProperty.call(n,t.command)&&n[t.command].call(n,t)}},!1)},ready:function(){this.answer({status:"load"})},clientReady:function(){return r.a.resolve()},answer:function(e){e.source=this._uid,void 0!==window.parent&&window.parent.postMessage(e,"*")},start:function(){this._viewer.start(),this.answer({status:"start"})},stop:function(){this._viewer.stop(),this.answer({status:"stop"})},lookat:function(e){this._viewer.lookat&&(this._viewer.lookat(e.eye,e.target,e.duration),window.setTimeout(function(){this.answer({status:"lookat"})}.bind(this),1e3*e.duration),this.answer({status:"lookat start"}))},autospin:function(e){!1===e&&(e=0),this.answer({status:"autospin"})},getViewerAPI:function(){}}};t.a=i},1365:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(0),o=(n.n(i),n(47)),s=n.n(o),l=n(10),c=n(15),u=n(6),d=n(134),h=n(721),f=n(1282),p=n(718),m=n(11),g=l.a.extend({mixins:[d.a],events:{'click [data-action="start"]':"start",'click [data-action="allowRestricted"]':"allowRestricted","mouseenter .avatar[data-user]":"enterAvatar","mouseleave .avatar[data-user]":"leaveAvatar","mouseenter .user-summary":"enterUserSummary","mouseleave .user-summary":"leaveUserSummary"},getUserSummary:function(){var e=this;n.e(24).then(n.bind(null,717)).then(function(t){var n=t.default;e.userSummary=new n})},initialize:function(){if(l.a.prototype.initialize.apply(this,arguments),!0!==this.model.get("isDeleted")){var e=!!Object(c.a)().autostart;(e||Object(c.a)().apiId)&&this.start(e);var t=Object(c.a)().uiInfos;if(void 0===t){var n=Object(c.a)().descButton;t=void 0===n||n}s.a.any||this.getUserSummary(),this.handleLazyLoading(),this.initializeSharingOverlay()}},start:Object(i.once)(function(e){this.initializeViewer(e)}),allowRestricted:function(){u.a.me().setAllowsRestricted(!0),this.$(".overlay.restricted").addClass("hidden")},initializeSharingOverlay:function(){var e=this;n.e(23).then(n.bind(null,2395)).then(function(t){var n=t.default;e.shareOverlay=new n({el:e.$(".share.overlay"),model:e.model,embedPage:e}),e.onShareClick=e.onShareClick.bind(e),e.$(".titlebar .actions .share").on("click",e.onShareClick)})},onShareClick:function(){this.shareOverlay.show(),m.a.modelEmbedShareButtonClicked(this.model.get("uid"))},onViewerStart:function(){this.$(".titlebar .actions .share").off("click",this.onShareClick)},onViewerStop:function(){},initializeViewer:function(e){var t=this.$(".viewer");this.$(".play").addClass("loading"),e&&t.addClass("started");var n=new h.a({el:t});this.viewer=n;var a=Object(c.a)().apiVersion,r=f.a.create(Object(c.a)().apiId,a,n,this.model.get("uid"));n.on("start",this.onViewerStart),n.on("stop",this.onViewerStop),n.setScene({uid:this.model.get("uid"),features:p.a,viewerAPI:r.getViewerAPI()}),this.$(".play").removeClass("loading"),r?(this.api=r,r.ready(),r.clientReady().then(function(){e&&n.start(e)})):e&&n.start(e)},toggleUserSummary:function(){var e=!(!this.inAvatar&&!this.inUserSummary);this.userSummary[e?"show":"hide"]()},enterAvatar:function(e){var t=r()(e.currentTarget).data("user");this.inAvatar=!0,this.userSummary.setUser(t),this.userSummary.anchor(e.currentTarget),this.toggleUserSummary()},leaveAvatar:function(){this.inAvatar=!1,this.toggleUserSummary()},enterUserSummary:function(){this.inUserSummary=!0,this.toggleUserSummary()},leaveUserSummary:function(){this.inUserSummary=!1,this.toggleUserSummary()}});t.a=g},1560:function(e,t,n){n(1561),e.exports=n(1562)},1561:function(e,t){},1562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(98),n(22)),r=n(14),i=n.n(r),o=n(2),s=(n.n(o),n(1563)),l=(n.n(s),n(1564)),c=(n.n(l),n(1565)),u=n(43),d=n(16),h=n(719),f=n(845),p=n(628),m=n(1567),g=n(1365),v=n(15),w=Object(h.b)().host,y=!1;if(w===window.location.host?y=!0:a.a.internalDomains.forEach(function(e){w===e.domain?y=!0:e.allowSubdomains&&w&&w.endsWith("."+e.domain)&&(y=!0)}),Object(v.a)().internal&&!y)document.location.replace(d.b.craft("?",d.b.reset(window.location.search.substr(1),{internal:null})));else if(Object(f.a)(),Object(p.a)()){Object(m.a)();var _=document.location.pathname.match(/models\/(.*?)\/embed/)[1];u.a.get(_).then(function(e){new g.a({model:e,el:"body"})})}else new c.a,i.a.history.start({pushState:!0})},1563:function(e,t,n){"use strict";!function(){if(void 0===window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),a=0,r=n.length;a<r;a++)t(n[a])}function n(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}function a(e,t,n){function a(e,t){l+=.1*(e-l),s*=.99,l>s&&(s=l),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?o.drawImage(h,i.width-1,i.height-l*i.height/s-f):o.drawImage(u,i.width-1,i.height-l*i.height/s-f)}var r=n||{},i=document.createElement("canvas"),o=i.getContext("2d"),s=0,l=0,c=r.color?r.color:"#666666",u=document.createElement("canvas"),d=u.getContext("2d");u.width=1,u.height=2*f,d.fillStyle="#444444",d.fillRect(0,0,1,2*f),d.fillStyle=c,d.fillRect(0,f,1,f),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,f,1,1),d.globalAlpha=1;var h=document.createElement("canvas"),m=h.getContext("2d");return h.width=1,h.height=2*f,m.fillStyle="#444444",m.fillRect(0,0,1,2*f),m.fillStyle="#b70000",m.fillRect(0,f,1,f),m.globalAlpha=.5,m.fillStyle="#ffffff",m.fillRect(0,f,1,1),m.globalAlpha=1,function(){i.width=p,i.height=f,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height)}(),{draw:a}}function r(e,n){function a(e){i.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height);var n=0;t(e,function(t){var a=e[t]*r.height;i.fillStyle=c[t],i.fillRect(r.width-1,n,1,a),n+=a})}var r=document.createElement("canvas"),i=r.getContext("2d");return function(){r.width=p,r.height=f*n,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),i.fillStyle="#444444",i.fillRect(0,0,r.width,r.height)}(),{draw:a}}function i(e,t){function n(e){if(x&&x.average){v+=e,y++;var t=performance.now();t-w>=(x.avgMs||1e3)&&(g=v/y,v=0,w=t,y=0)}}function r(){d=performance.now(),l.userTimingAPI&&performance.mark(f+"-start"),C=!0}function i(){p=performance.now()-d,l.userTimingAPI&&(performance.mark(f+"-end"),C&&performance.measure(f,f+"-start",f+"-end")),n(p)}function o(){i(),r()}function s(){var e=x&&x.average?g:p;S.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&p<x.below||x.over&&p>x.over);I.draw(p,t),_.style.color=t?"#b70000":"#ffffff"}function c(){var e=performance.now(),t=e-d;m++,t>1e3&&(p=x&&!1===x.interpolate?m:1e3*m/t,m=0,d=e,n(p))}function u(e){p=e,n(p)}var d,f=e,p=0,m=0,g=0,v=0,w=performance.now(),y=0,_=document.createElement("div"),b=document.createElement("span"),M=document.createElement("div"),S=document.createTextNode(""),x=l?l.values[f.toLowerCase()]:null,I=new a(_,f,x),C=!1;return _.className="rs-counter-base",b.className="rs-counter-id",b.textContent=x&&x.caption?x.caption:f,M.className="rs-counter-value",M.appendChild(S),_.appendChild(b),_.appendChild(M),t?t.div.appendChild(_):h.appendChild(_),d=performance.now(),{set:u,start:r,tick:o,end:i,frame:c,value:function(){return p},draw:s}}function o(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),m[n])return m[n];var a=null;l&&l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)];a||-1===t.values.indexOf(n.toLowerCase())||(a=t)});var r=new i(n,a);return m[n]=r,r}function s(){t(l.plugins,function(e){l.plugins[e].update()}),t(m,function(e){m[e].draw()}),l&&l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=[],r=m[n.base.toLowerCase()];r&&(r=r.value(),t(l.fractions[e].steps,function(t){var n=l.fractions[e].steps[parseInt(t,10)].toLowerCase(),i=m[n];i&&a.push(i.value()/r)})),n.graph.draw(a)})}var l=e||{},c=l.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],u=(l.CSSPath?l.CSSPath:"")+"rStats.css";(l.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",u]).forEach(function(e){n(e)}),l.values||(l.values={});var d,h,f=10,p=200,m={};return function(){if(l.plugins){l.values||(l.values={}),l.groups||(l.groups=[]),l.fractions||(l.fractions=[]);for(var e=0;e<l.plugins.length;e++)l.plugins[e].attach(o),t(l.plugins[e].values,function(t){l.values[t]=l.plugins[e].values[t]}),l.groups=l.groups.concat(l.plugins[e].groups),l.fractions=l.fractions.concat(l.plugins[e].fractions)}else l.plugins={};d=document.createElement("div"),d.className="rs-base",h=document.createElement("div"),h.className="rs-container",h.style.height="auto",d.appendChild(h),document.body.appendChild(d),l&&(l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var a=document.createElement("h1");a.textContent=t.caption,a.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),h.appendChild(a),h.appendChild(n)}),l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=document.createElement("div");a.className="rs-fraction";var i=document.createElement("div");i.className="rs-legend";var o=0;t(l.fractions[e].steps,function(t){var n=document.createElement("p");n.textContent=l.fractions[e].steps[t],n.style.color=c[o],i.appendChild(n),o++}),a.appendChild(i),a.style.height=o*f+"px",n.div=a;var s=new r(a,o);n.graph=s,h.appendChild(a)}))}(),function(e){return e?o(e):{element:d,update:s}}},e.exports=window.rStats},1564:function(e,t,n){window.glStats=function(){function e(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function t(){i("allcalls").set(o+s),i("drawElements").set(s),i("drawArrays").set(o),i("bindTexture").set(h),i("useProgram").set(l),i("glfaces").set(c),i("glvertices").set(u),i("glpoints").set(d)}function n(){o=0,s=0,l=0,c=0,u=0,d=0,h=0}function a(){}function r(e){i=e}var i=null,o=0,s=0,l=0,c=0,u=0,d=0,h=0;return WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){o++,arguments[0]==this.POINTS?d+=arguments[2]:u+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){s++,c+=arguments[1]/3,u+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){l++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){h++}),{update:t,start:n,end:a,attach:r,values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){function t(){i("renderer.info.memory.geometries").set(e.info.memory.geometries),i("renderer.info.programs").set(e.info.programs.length),i("renderer.info.memory.textures").set(e.info.memory.textures),i("renderer.info.render.calls").set(e.info.render.calls),i("renderer.info.render.faces").set(e.info.render.faces),i("renderer.info.render.points").set(e.info.render.points),i("renderer.info.render.vertices").set(e.info.render.vertices)}function n(){}function a(){}function r(e){i=e}var i=null;return{update:t,start:n,end:a,attach:r,values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],fractions:[]}},window.BrowserStats=function(){function e(e){var t=Math.floor(Math.log(e)/h);return Math.round(100*e/Math.pow(1024,t))/100}function t(){o=e(l.usedJSHeapSize),s=e(l.totalJSHeapSize),i("memory").set(o),i("total").set(s)}function n(){o=0}function a(){}function r(e){i=e}var i=null,o=0,s=0,l={usedJSHeapSize:0,totalJSHeapSize:0};window.performance&&performance.memory&&(l=performance.memory),0===l.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var c={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},u=[{caption:"Browser",values:["memory","total"]}],d=[{base:"total",steps:["memory"]}],h=Math.log(1024);return{update:t,start:n,end:a,attach:r,values:c,groups:u,fractions:d}},e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},1565:function(e,t,n){"use strict";var a=(n(1566),n(0)),r=(n.n(a),n(114)),i=n(43),o=n(16),s=n(1365);t.a=r.a.extend({routes:Object(a.extend)({},r.a.prototype.routes,{"models/:modelUid/embed":"embed"}),embed:function(e){e=o.b.string("model",e),i.a.get(e).then(function(e){new s.a({model:e,el:"body"})})}})},1566:function(e,t,n){"use strict";var a=n(221);Object(a.default)(!0)},1567:function(e,t,n){"use strict";t.a=function(){var e=["Float32Array","Uint32Array","Int32Array","Uint16Array","Int16Array","Uint8Array","Int8Array"];for(var t in e)window[e[t]]=function(){return[]}}},183:function(e,t,n){"use strict";var a=n(2),r=n.n(a);t.a=function(){r()(document).on("focus blur","*",function(e){var t=r()(e.target).attr("id"),n=e.target===document.activeElement;void 0!==t&&r()("label[for]").filter(function(){return r()(this).attr("for")===t}).toggleClass("focused",n)}),r()(document).on("input","input, textarea",function(e){r()(e.target).addClass("edited").toggleClass("empty",""===r()(e.target).val())}),r()(document).on("submit","form:not([action])",function(e){e.preventDefault()}),r()(".hover-menu").css("display","none"),r()(document.documentElement).addClass("ready"),r()(document).on("keydown","form textarea",function(e){e.ctrlKey&&13===e.keyCode&&r()(e.target).closest("form").submit()}),r()(document).on("click","[data-link]",function(e){(e.currentTarget!==e.target?r()(e.target).parentsUntil(e.currentTarget):r()()).andSelf().filter("a, [data-link], [data-action]").length>0||(e.metaKey||e.ctrlKey?window.open(r()(e.currentTarget).attr("data-link")):document.location=r()(e.currentTarget).attr("data-link"))}),r()(document).on("click","a",function(e){if(0!==(e.currentTarget!==e.target?r()(e.target).parentsUntil(e.currentTarget):r()()).andSelf().filter("[data-link], [data-action]").length){var t=r()(e.target).parents().filter("[href]");0!==t.length&&"#"!==t.eq(0).attr("href")||e.preventDefault()}}),r()(document).on("mousedown","label[for]",function(e){if(e.target===e.currentTarget){var t=r()(e.currentTarget).attr("for"),n=document.getElementById(t);n&&n===document.activeElement&&e.preventDefault()}}),r()(document).on("mouseover",":has(> .hover-menu)",function(e){var t=r()(e.currentTarget);t.children(".hover-menu").css("display",""),r()(".hover-menu").not(t.parents(".hover-menu")).not(t.find(".hover-menu")).css("display","none")})}},198:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(50),o={"http:":"80","https:":"443"};t.a=function(){r()(document).ajaxSend(function(e,t,n){var a=window.location,r=document.createElement("a");r.href=n.url,r.href=r.href;var s=r.port;s="0"!==s?s:o[r.protocol],s=s!==o[r.protocol]?s:"",r.protocol!==a.protocol||r.hostname!==a.hostname||s!==a.port||t.setRequestHeader("X-CsrfToken",i.a.get("csrftoken"))})}},845:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=n(14),o=n.n(i),s=n(16),l=n(43),c=n(22),u=n(15),d=n(256),h=function(){if("dev"!==c.a.buildMode){var e=!1;if(c.a.prodHookDomainsBlacklist.forEach(function(t){document.location.href.indexOf(t)>-1&&(e=!0)}),e)return}if(-1!==window.location.search.substr(1).indexOf("hook_")){for(var t,n="hook_".length,a=window.location.search.substr(1).split(/&+/g),r=0;r<a.length;++r){var i=a[r];if(-1!==i.indexOf("hook_")){t=i.substr(n,i.indexOf("=")-n);break}}if(t&&s.b.bool("hook_"+t)){var o="https://";return o+="prod"===t?"sketchfab.com":"fatvoxel"===t?"fatvoxel.com":t+".fatvoxel.com"}}},f=function(e,t){var n=new o.a.Model;return n.url=e+t,n.fetch().then(function(e){return window.prefetchedData[t]=e,e})},p=function(e,t){for(var n=["","animations","backgrounds","environments","hotspots","matcaps","sounds","textures"],a=[],i=0;i<n.length;++i){var o=Object(d.a)(n[i],t);a.push(f(e,o))}return r.a.all(a).then(function(e){return new l.a(e[0])})},m=function(){var e=h();if(e){var t=Object(u.a)().model;if(t){var n=p(e,t);l.a.get=function(){return n}}}};t.a=m},98:function(e,t,n){"use strict";var a=(n(22),n(2)),r=n.n(a),i=n(7),o=n.n(i),s=(n(197),n(219),n(198)),l=n(182),c=n(123),u=n(183);o.a.config({warnings:!1,longStackTraces:!1,cancellation:!0,monitoring:!1}),Object(s.a)(),Object(l.a)(),c.a.install(),Object(u.a)(),window.publicLibraries={$:r.a},window.editorModels={}}},[1560])});
//# sourceMappingURL=embed-287efa9c680add25e152.js.map